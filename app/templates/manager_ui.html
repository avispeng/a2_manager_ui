<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
</head>
<body>
<h1><center>Welcome to Manager UI</center></h1>
    <div>
    <form action="{{url_for('grow_by_one')}}" method="post" style ="float: left; padding: 20px;"  >
        <input type="submit" value="Grow by one" class="t1" >
    </form>

    <form action="{{url_for('shrink_by_one')}}" method="post" style ="float: left; padding: 20px;" >
        <input type="submit" value="Shrink by one" class="t1">
    </form>
    </div>
    <br>

    <div>

    <table>
        <thead>
        <th>ID</th>
        <th>Type</th>
        <th>Availability Zone</th>
        <th>Status</th>
        <th>CPU utilization</th>
        </thead>
        {% for instance,ins_cpu in instances_cpu %}
            <tr>
                <td>{{ instance.id }}</td>
                <td>{{ instance.instance_type }}</td>
                <td>{{ instance.placement['AvailabilityZone'] }}</td>
                <td>{{ instance.state['Name'] }}</td>
                <td><a href="{{url_for('cpu_plot', id=instance.id)}}">{{ ins_cpu }}</a></td>
            </tr>
        {% endfor %}
    </table>
    <br>
    <form action="{{url_for('tune')}}" method="post">
        <fieldset style="width:50%;">
            <legend>Tune the threshold and ratio:</legend>
            CPU utilization (average percent) threshold for growing the pool:<br>
            <input type="number" max="100" min="0" name="thre_h" value="{{cur[0]}}">(0~100)%<br>
            CPU utilization (average percent) threshold for shrinking the pool:<br>
            <input type="number" max="100" min="0" name="thre_l" value="{{cur[1]}}">(0~100)%<br>
            Ratio by which to expand the worker pool:<br>
            <input type="number" min="1" name="ratio_grow" step="0.01" value="{{cur[2]}}"><br>
            Ratio by which to shrink the worker pool:<br>
            <input type="number" min="1" name="ratio_shrink" step="0.01" value="{{cur[3]}}"><br>
            <input type="submit" value="Set">
        </fieldset>
    </form>
    <form action="{{url_for('delete_all')}}" method="post"
          onsubmit="return confirm('Delete user data and images?');">
        Delete everything including users and photos' info in database and files on S3:
        <input type="submit" value="Delete all data">
    </form>
    </div>

    <p id="delete_msg" style="color:blue;">{{msg if msg != None}}</p>



</body>
</html>

<style>


input[type=submit] {
    color: #fff;
    border: none;
    color: white;
    padding: 16px 32px;
    text-decoration: none;
    margin: 4px 2px;
    cursor: pointer;
}

input[type=submit]:hover{
    background: lightblue;

</style>